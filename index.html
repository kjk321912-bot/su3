<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>전자회로: FET 완전 정복 (학생 참여형)</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #3498db;
            --success: #2ecc71;
            --error: #e74c3c;
            --disabled: #95a5a6;
            --bg: #f4f6f7;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow: hidden;
        }

        /* 헤더 */
        header {
            background: white;
            padding: 15px 20px;
            border-bottom: 3px solid var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            z-index: 10;
        }
        header h1 { margin: 0; font-size: 1.2rem; color: #333; }
        header .meta { font-size: 0.9rem; color: #666; text-align: right; }

        /* 슬라이드 영역 */
        .container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
            overflow-y: auto;
        }

        .slide {
            background: white;
            width: 100%;
            max-width: 700px;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            display: none;
            animation: slideIn 0.4s ease-out;
        }
        .slide.active { display: block; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 { color: var(--primary); border-bottom: 2px solid #eee; padding-bottom: 10px; }
        p { font-size: 1.1rem; line-height: 1.6; color: #444; }

        /* 상호작용 요소 스타일 */
        .quiz-option {
            width: 100%;
            padding: 15px;
            margin: 8px 0;
            border: 2px solid #eee;
            border-radius: 10px;
            background: white;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.2s;
            text-align: left;
        }
        .quiz-option:hover { background-color: #f9f9f9; border-color: var(--primary); }
        .quiz-option.correct { background-color: #e8f8f5; border-color: var(--success); color: var(--success); font-weight: bold; }
        .quiz-option.wrong { background-color: #fdedec; border-color: var(--error); animation: shake 0.3s; }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
            100% { transform: translateX(0); }
        }

        textarea {
            width: 100%;
            height: 100px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            margin-top: 10px;
            resize: none;
        }
        textarea:focus { outline: none; border-color: var(--primary); }

        .analogy-box {
            background-color: #eaf2f8;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin: 20px 0;
        }
        .emoji { font-size: 3rem; display: block; margin-bottom: 10px; }

        /* 하단 네비게이션 */
        footer {
            background: white;
            padding: 15px 20px;
            border-top: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-bar {
            flex: 1;
            height: 10px;
            background: #eee;
            margin: 0 20px;
            border-radius: 5px;
            overflow: hidden;
        }
        .fill {
            height: 100%;
            background: var(--success);
            width: 0%;
            transition: width 0.3s;
        }

        .nav-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        .nav-btn.prev { background: #eee; color: #555; }
        .nav-btn.next { background: var(--primary); color: white; }
        
        /* 비활성화 버튼 스타일 (중요) */
        .nav-btn:disabled {
            background-color: var(--disabled);
            cursor: not-allowed;
            opacity: 0.7;
        }

        .feedback-msg {
            margin-top: 10px;
            font-weight: bold;
            display: none;
        }
        .feedback-msg.success { color: var(--success); }
        .feedback-msg.error { color: var(--error); }

    </style>
</head>
<body>

<header>
    <h1>⚡ 전자회로: FET 완전 정복</h1>
    <div class="meta">
        👨‍🏫 지도교사: 김진경 선생님<br>
        🏫 전기전자제어과 2학년
    </div>
</header>

<div class="container">

    <!-- Slide 1: Cover -->
    <div class="slide active" data-unlocked="true">
        <div style="text-align: center; padding-top: 20px;">
            <span class="emoji">🏫</span>
            <h2>전계 효과 트랜지스터(FET)<br>동작 원리와 특징</h2>
            <p>오늘 수업은 여러분이 직접 참여해야만 다음으로 넘어갈 수 있습니다.</p>
            <div style="background: #fff3cd; padding: 15px; border-radius: 10px; display: inline-block; margin-top: 20px;">
                <strong>⚠️ 주의사항</strong><br>
                퀴즈를 틀리면 다음 장으로 넘어갈 수 없습니다.<br>
                신중하게 학습해 주세요!
            </div>
        </div>
    </div>

    <!-- Slide 2: Motivation -->
    <div class="slide" data-unlocked="false">
        <h2>1. 생각 열기</h2>
        <p>반도체가 없다면 컴퓨터는 등장할 수 있었을까요? <br>
        여러분이 생각하는 '반도체'란 무엇인지 한 줄로 정의해보세요.</p>
        <textarea id="input2" placeholder="예: 전기를 흐르게 하거나 막는 스위치..." oninput="checkInput(this, 5)"></textarea>
        <p class="feedback-msg success">✨ 훌륭한 생각입니다! 다음으로 넘어가세요.</p>
    </div>

    <!-- Slide 3: Concept -->
    <div class="slide" data-unlocked="false">
        <h2>2. FET가 도대체 뭐죠?</h2>
        <p><strong>FET (Field Effect Transistor)</strong>: 전계 효과 트랜지스터</p>
        <div class="analogy-box">
            <span class="emoji">📏</span>
            <p><strong>전계(Field Effect)</strong>라는 힘을 이용해서<br>전류를 조절하는 반도체 소자입니다.</p>
        </div>
        <p>다음 중 FET의 설명으로 맞는 것을 고르세요.</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">전류의 힘으로 동작한다.</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">전압(전기장)의 힘으로 동작한다.</button>
        <p class="feedback-msg">정답! FET는 '전압'으로 제어합니다.</p>
    </div>

    <!-- Slide 4: Classification -->
    <div class="slide" data-unlocked="false">
        <h2>3. 트랜지스터의 두 가문</h2>
        <p>트랜지스터는 크게 BJT와 FET로 나뉩니다.</p>
        <ul>
            <li><strong>BJT (양극성)</strong>: 전류로 제어 (힘이 셈, 전기 많이 먹음)</li>
            <li><strong>FET (단극성)</strong>: 전압으로 제어 (작고, 전기 조금 먹음)</li>
        </ul>
        <p>스마트폰의 CPU처럼 아주 작고 전기를 아껴야 하는 곳엔 무엇을 쓸까요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">BJT</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">FET</button>
        <p class="feedback-msg">정답! 그래서 CPU에는 수십억 개의 FET가 들어갑니다.</p>
    </div>

    <!-- Slide 5: Terminals -->
    <div class="slide" data-unlocked="false">
        <h2>4. FET의 단자 이름 (암기 필수!)</h2>
        <p>FET에는 3개의 다리가 있습니다.</p>
        <ul>
            <li><strong>소스 (Source, S)</strong>: 전자가 출발하는 곳 (수도관 입구)</li>
            <li><strong>드레인 (Drain, D)</strong>: 전자가 나가는 곳 (수도관 출구)</li>
            <li><strong>게이트 (Gate, G)</strong>: 흐름을 조절하는 곳 (수도꼭지 손잡이)</li>
        </ul>
        <p>전류의 흐름을 '조절'하는 단자는 무엇일까요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">소스 (Source)</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">게이트 (Gate)</button>
        <button class="quiz-option" onclick="checkQuiz(this, false)">드레인 (Drain)</button>
        <p class="feedback-msg">딩동댕! 게이트가 문지기 역할을 합니다.</p>
    </div>

    <!-- Slide 6: Analogy -->
    <div class="slide" data-unlocked="false">
        <h2>5. 수도꼭지 비유</h2>
        <div class="analogy-box">
            <span class="emoji">🚰</span>
            <p><strong>게이트(손잡이)</strong>를 돌리면<br><strong>소스(수도관)</strong>에서<br><strong>드레인(배수구)</strong>으로 물이 흐릅니다.</p>
        </div>
        <p>이해했으면 아래 빈칸을 채워보세요. (정답: <strong>전압</strong>)</p>
        <input type="text" id="input6" placeholder="게이트에 OO을 가하면 전류가 조절된다." style="width: 100%; padding: 10px; margin-top: 10px;">
        <button style="margin-top: 10px; padding: 5px 15px;" onclick="checkTextAnswer('input6', '전압')">확인</button>
        <p class="feedback-msg success" id="fb6">정답입니다! 다음으로 가세요.</p>
    </div>

    <!-- Slide 7: JFET Structure -->
    <div class="slide" data-unlocked="false">
        <h2>6. JFET의 구조</h2>
        <p><strong>JFET (Junction FET)</strong>는 게이트와 채널 사이에 PN 접합이 있습니다.</p>
        <p>게이트에 '역방향 전압'을 걸어주면 <strong>공핍 영역(Depletion Region)</strong>이 생기면서 통로가 좁아집니다.</p>
        <p>통로를 좁게 만드는 영역의 이름은?</p>
        <button class="quiz-option" onclick="checkQuiz(this, true)">공핍 영역</button>
        <button class="quiz-option" onclick="checkQuiz(this, false)">활성 영역</button>
        <p class="feedback-msg">맞습니다. 공핍 영역이 넓어질수록 전류는 줄어듭니다.</p>
    </div>

    <!-- Slide 8: Pinch Off -->
    <div class="slide" data-unlocked="false">
        <h2>7. 꽉 막힌 상태: 핀치 오프</h2>
        <p>게이트 전압을 계속 높이면 공핍 영역이 만나서 통로가 꽉 막히게 됩니다.</p>
        <div class="analogy-box">
            <span class="emoji">🤏🚫</span>
            <p>이 상태를 <strong>핀치 오프 (Pinch-off)</strong>라고 합니다.</p>
        </div>
        <p>핀치 오프 상태에서는 전류가 흐를 수 있나요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">예, 아주 잘 흐릅니다.</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">아니오, 거의 흐르지 않습니다.</button>
        <p class="feedback-msg">정답! 수도꼭지를 꽉 잠근 것과 같습니다.</p>
    </div>

    <!-- Slide 9: Review 1 -->
    <div class="slide" data-unlocked="false">
        <h2>8. 중간 점검</h2>
        <p>지금까지 배운 내용을 정리해봅시다.</p>
        <p>JFET은 게이트 전압으로 ( A )의 폭을 조절하여 ( B )를 제어합니다.</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">A: 채널, B: 전압</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">A: 채널, B: 전류</button>
        <p class="feedback-msg">잘하고 있습니다!</p>
    </div>

    <!-- Slide 10: MOSFET Intro -->
    <div class="slide" data-unlocked="false">
        <h2>9. 현대의 주인공: MOSFET</h2>
        <p>JFET보다 더 많이 쓰이는 것이 <strong>MOSFET</strong>입니다.</p>
        <ul>
            <li><strong>M (Metal)</strong>: 금속 전극</li>
            <li><strong>O (Oxide)</strong>: 산화물 절연체</li>
            <li><strong>S (Semiconductor)</strong>: 반도체</li>
        </ul>
        <p>핵심은 게이트와 채널 사이에 <strong>산화막(절연체)</strong>이 있다는 것입니다.</p>
        <p>이 산화막 덕분에 게이트로는 전류가 흐를까요, 안 흐를까요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, true)">안 흐른다. (절연되어 있으므로)</button>
        <button class="quiz-option" onclick="checkQuiz(this, false)">흐른다.</button>
        <p class="feedback-msg">정답! 그래서 입력 임피던스가 매우 높습니다.</p>
    </div>

    <!-- Slide 11: Oxide Material -->
    <div class="slide" data-unlocked="false">
        <h2>10. 산화막의 정체</h2>
        <p>MOSFET에서 절연 역할을 하는 산화막은 주로 <strong>이산화규소($SiO_2$)</strong>를 사용합니다. 유리와 비슷한 성질이죠.</p>
        <p>이 산화막이 하는 역할은 무엇인가요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">전류를 잘 흐르게 한다.</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">게이트와 채널을 전기적으로 분리한다.</button>
        <p class="feedback-msg">맞습니다. 아주 중요한 특징입니다.</p>
    </div>

    <!-- Slide 12: E-Type MOSFET -->
    <div class="slide" data-unlocked="false">
        <h2>11. 증가형(E-Type) MOSFET</h2>
        <p>MOSFET은 두 종류가 있습니다.</p>
        <ul>
            <li>공핍형: 평소에 켜져 있음 (잘 안 씀)</li>
            <li><strong>증가형 (Enhancement)</strong>: 평소엔 꺼져 있다가 전압을 줘야 켜짐 (많이 씀)</li>
        </ul>
        <p>우리가 쓰는 디지털 회로는 대부분 '증가형'을 씁니다. 왜일까요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">만들기가 쉬워서</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">평소에 꺼져 있어야 스위치로 쓰기 좋아서</button>
        <p class="feedback-msg">정답! 스위치 역할을 하기에 딱 좋습니다.</p>
    </div>

    <!-- Slide 13: Threshold Voltage -->
    <div class="slide" data-unlocked="false">
        <h2>12. 문턱 전압 ($V_{th}$)</h2>
        <p>증가형 MOSFET을 켜기 위해 필요한 최소한의 게이트 전압을 <strong>문턱 전압(Threshold Voltage)</strong>이라고 합니다.</p>
        <div class="analogy-box">
            <span class="emoji">🚪🔒</span>
            <p>문턱을 넘어야 문이 열리듯,<br>이 전압을 넘어야 전류가 흐릅니다.</p>
        </div>
        <p>게이트 전압이 문턱 전압보다 낮으면 어떻게 될까요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, true)">전류가 흐르지 않는다 (OFF)</button>
        <button class="quiz-option" onclick="checkQuiz(this, false)">전류가 흐른다 (ON)</button>
        <p class="feedback-msg">정확합니다! OFF 상태가 유지됩니다.</p>
    </div>

    <!-- Slide 14: Formation Process -->
    <div class="slide" data-unlocked="false">
        <h2>13. 채널이 만들어지는 과정</h2>
        <p>게이트에 (+)전압을 걸면, 반도체 안의 (-)전자들이 게이트 쪽으로 끌려옵니다.</p>
        <p>이 전자들이 모여서 소스와 드레인을 연결하는 다리(채널)를 만듭니다.</p>
        <p>이때 끌려오는 캐리어(전하)는 무엇인가요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">정공 (+)</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">전자 (-)</button>
        <p class="feedback-msg">맞습니다. N채널 MOSFET의 경우 전자가 모입니다.</p>
    </div>

    <!-- Slide 15: CMOS Intro -->
    <div class="slide" data-unlocked="false">
        <h2>14. 최강의 조합: CMOS</h2>
        <p><strong>CMOS (Complementary MOS)</strong>: 상보형 MOS</p>
        <p>NMOS(N채널)와 PMOS(P채널)를 짝지어 놓은 구조입니다.</p>
        <p>서로 반대로 동작하는 두 소자를 합치면 어떤 장점이 있을까요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, true)">전력 소모가 매우 적어진다.</button>
        <button class="quiz-option" onclick="checkQuiz(this, false)">동작 속도가 매우 느려진다.</button>
        <p class="feedback-msg">정답! 이것이 현대 반도체의 핵심 기술입니다.</p>
    </div>

    <!-- Slide 16: CMOS Operation -->
    <div class="slide" data-unlocked="false">
        <h2>15. CMOS의 동작 원리</h2>
        <p>CMOS 인버터 회로에서는...</p>
        <ul>
            <li>입력이 1이면: NMOS 켜짐, PMOS 꺼짐</li>
            <li>입력이 0이면: NMOS 꺼짐, PMOS 켜짐</li>
        </ul>
        <p>항상 둘 중 하나는 꺼져 있으므로 전류가 낭비되지 않습니다.</p>
        <p>이 기술은 주로 어디에 쓰일까요?</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">고전력 히터</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">스마트폰, 컴퓨터 CPU</button>
        <p class="feedback-msg">딩동댕! 배터리를 오래 쓰게 해주는 기술입니다.</p>
    </div>

    <!-- Slide 17: Summary Table -->
    <div class="slide" data-unlocked="true">
        <h2>16. 한눈에 비교하기</h2>
        <table style="width:100%; border-collapse: collapse; margin-top:10px;">
            <tr style="background:#eee;"><th>구분</th><th>BJT</th><th>FET</th></tr>
            <tr><td style="border:1px solid #ddd; padding:8px;">제어 방식</td><td style="border:1px solid #ddd; padding:8px;">전류</td><td style="border:1px solid #ddd; padding:8px;"><strong>전압</strong></td></tr>
            <tr><td style="border:1px solid #ddd; padding:8px;">입력 저항</td><td style="border:1px solid #ddd; padding:8px;">낮음</td><td style="border:1px solid #ddd; padding:8px;"><strong>매우 높음</strong></td></tr>
            <tr><td style="border:1px solid #ddd; padding:8px;">집적도</td><td style="border:1px solid #ddd; padding:8px;">낮음</td><td style="border:1px solid #ddd; padding:8px;"><strong>매우 높음</strong></td></tr>
        </table>
        <p style="text-align:center; margin-top:20px;">표를 꼼꼼히 읽었으면 아래 버튼을 누르세요.</p>
        <button class="quiz-option" style="text-align:center;" onclick="checkQuiz(this, true)">네, 확인했습니다.</button>
        <p class="feedback-msg">좋습니다. 이제 마무리 단계입니다.</p>
    </div>

    <!-- Slide 18: Real World Application -->
    <div class="slide" data-unlocked="false">
        <h2>17. 응용 분야 생각하기</h2>
        <p>FET와 CMOS 기술이 없다면 사용할 수 없는 기기 3가지를 적어보세요.</p>
        <textarea placeholder="예: 스마트폰, 태블릿, ..." oninput="checkInput(this, 3)"></textarea>
        <p class="feedback-msg success">잘했습니다! 다음으로 넘어가세요.</p>
    </div>

    <!-- Slide 19: Final Quiz 1 -->
    <div class="slide" data-unlocked="false">
        <h2>18. 최종 테스트 (1/2)</h2>
        <p>Q. 다음 중 MOSFET의 특징으로 옳지 <strong>않은</strong> 것은?</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">1. 게이트와 채널 사이에 절연막이 있다.</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">2. 전류에 의해 제어되므로 전력 소모가 크다.</button>
        <button class="quiz-option" onclick="checkQuiz(this, false)">3. 집적도가 높아 IC 칩 제작에 유리하다.</button>
        <p class="feedback-msg">정답! 2번은 BJT에 대한 설명입니다.</p>
    </div>

    <!-- Slide 20: Final Quiz 2 -->
    <div class="slide" data-unlocked="false">
        <h2>19. 최종 테스트 (2/2)</h2>
        <p>Q. CMOS 회로의 가장 큰 장점은?</p>
        <button class="quiz-option" onclick="checkQuiz(this, false)">1. 아주 높은 전압을 견딘다.</button>
        <button class="quiz-option" onclick="checkQuiz(this, true)">2. 전력 소모가 매우 적다.</button>
        <button class="quiz-option" onclick="checkQuiz(this, false)">3. 구조가 매우 단순하여 만들기 쉽다.</button>
        <p class="feedback-msg">완벽합니다! 이제 마지막입니다.</p>
    </div>

    <!-- Slide 21: Conclusion -->
    <div class="slide" data-unlocked="true">
        <h2>20. 학습 종료 🎉</h2>
        <p>오늘 FET의 원리부터 CMOS까지 긴 여정을 마쳤습니다.</p>
        <div style="background: #e8f8f5; padding: 20px; border-radius: 10px; border: 2px solid var(--success);">
            <h3>📜 학습 완료 인증</h3>
            <p><strong>성명:</strong> <input type="text" placeholder="이름을 입력하세요" style="padding:5px;"></p>
            <p><strong>한줄 소감:</strong></p>
            <textarea style="height: 60px;" placeholder="오늘 배운 점을 짧게 써주세요."></textarea>
            <p style="color: #666; font-size: 0.9rem;">* 이 화면을 캡처하여 김진경 선생님께 제출하세요.</p>
        </div>
        <button class="nav-btn" style="background: #333; color: white; margin-top: 20px;" onclick="alert('수고 많았습니다! 창을 닫아도 좋습니다.')">수업 끝내기</button>
    </div>

</div>

<footer>
    <button id="prevBtn" class="nav-btn prev" onclick="changeSlide(-1)">이전</button>
    <div class="progress-bar"><div id="progress" class="fill"></div></div>
    <span id="pageInfo" style="margin-right: 15px; font-weight: bold; color: #555;">1 / 21</span>
    <button id="nextBtn" class="nav-btn next" onclick="changeSlide(1)">다음</button>
</footer>

<script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;
    const nextBtn = document.getElementById('nextBtn');
    const prevBtn = document.getElementById('prevBtn');
    const progressBar = document.getElementById('progress');
    const pageInfo = document.getElementById('pageInfo');

    function updateUI() {
        // Slide Visibility
        slides.forEach((s, i) => {
            s.classList.remove('active');
            if (i === currentSlide) s.classList.add('active');
        });

        // Progress Bar
        const percent = ((currentSlide + 1) / totalSlides) * 100;
        progressBar.style.width = percent + '%';
        pageInfo.innerText = `${currentSlide + 1} / ${totalSlides}`;

        // Button State
        prevBtn.disabled = currentSlide === 0;
        
        // Check Locked State
        const currentSlideElem = slides[currentSlide];
        const isUnlocked = currentSlideElem.getAttribute('data-unlocked') === 'true';
        
        if (currentSlide === totalSlides - 1) {
            nextBtn.style.display = 'none'; // Hide next on last page
        } else {
            nextBtn.style.display = 'block';
            nextBtn.disabled = !isUnlocked;
            nextBtn.innerText = isUnlocked ? "다음 >" : "🔒 문제 풀기";
        }
    }

    function changeSlide(dir) {
        currentSlide += dir;
        updateUI();
    }

    // Quiz Logic
    function checkQuiz(btn, isCorrect) {
        const slide = btn.closest('.slide');
        const feedback = slide.querySelector('.feedback-msg');
        
        // Reset styles for siblings
        const siblings = btn.parentElement.querySelectorAll('.quiz-option');
        siblings.forEach(sb => {
            sb.classList.remove('correct', 'wrong');
            sb.style.pointerEvents = 'none'; // Prevent changing answer
        });

        if (isCorrect) {
            btn.classList.add('correct');
            feedback.innerText = "🎉 정답입니다! 다음 버튼이 활성화되었습니다.";
            feedback.classList.add('success');
            slide.setAttribute('data-unlocked', 'true');
            updateUI();
        } else {
            btn.classList.add('wrong');
            feedback.innerText = "😅 틀렸습니다. 다시 시도하려면 페이지를 새로고침 하세요 (또는 선생님께 질문!).";
            feedback.classList.add('error');
            // Allow retry by re-enabling clicks (Optional, but strict mode requested)
             siblings.forEach(sb => sb.style.pointerEvents = 'auto');
        }
        feedback.style.display = 'block';
    }

    // Text Input Logic
    function checkInput(textarea, minLength) {
        const slide = textarea.closest('.slide');
        const feedback = slide.querySelector('.feedback-msg');
        
        if (textarea.value.length >= minLength) {
            slide.setAttribute('data-unlocked', 'true');
            feedback.style.display = 'block';
            updateUI();
        } else {
            slide.setAttribute('data-unlocked', 'false');
            feedback.style.display = 'none';
            updateUI();
        }
    }

    // Specific Text Answer Logic
    function checkTextAnswer(inputId, answer) {
        const input = document.getElementById(inputId);
        const feedback = document.getElementById('fb6'); // Specific for slide 6
        const slide = input.closest('.slide');

        if (input.value.trim() === answer) {
            slide.setAttribute('data-unlocked', 'true');
            feedback.style.display = 'block';
            updateUI();
        } else {
            alert("틀렸습니다. 힌트: '전'으로 시작하는 두 글자 단어입니다.");
        }
    }

    // Initialize
    updateUI();

</script>

</body>
</html>
